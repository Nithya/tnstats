angular.module("tnstats",["ngAnimate","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider",function(a,t){"use strict";a.state("home",{url:"/",templateUrl:"app/main/main.html"}).state("category",{url:"category/:categoryID/",templateUrl:"app/category/category.html"}).state("chart",{url:"chart/:categoryID/:subcategoryID/",templateUrl:"app/chart/chart.html"}),t.otherwise("/")}]),angular.module("tnstats").controller("NavbarCtrl",function(){"use strict"}),angular.module("tnstats").controller("MainCtrl",["$scope","$timeout","$state","$stateParams",function(a,t,e,r){"use strict";a.current={},a.categories=["Area and Population","Vital Statistics","Climate and Rainfall","Agriculture","Irrigation","Rural Water Supply","Animal Husbandry","Fisheries","Forests","Electricity","Industries","Factories","Companies Limited by Shares","Medical and Health","Family Welfare","Education","Employment","Housing and Building Activity","Registration","Commercial Tax","Co-Operation","Civil Supplies","Road and Transport","Communications","Institutional Finance","Community Development","Social Welfare","Adi-Dravidar and Tribal Welfare","Price Indices","Legislature and Election","Judicial Administration","Police and Prison","Local Bodies","State Income","State Excise","State Finance","Five Year Plan","Income Tax","Insurance Operations","Recreation","Tourism","Environment"],a.categories=_.map(a.categories,function(a,t){return{id:t+1,name:a}}),a.subCategories=[["Area, Population, Literates, Scheduled Castes and Scheduled Tribes by Districts","Population by Broad Industrial Categories of Workers","Population by Religion","Population in Five Year Age Group By Residence and Sex in Tamil Nadu as per 2011 Census","Comparative Statement showing the population in Five years Age Group By Sex in India & Tamil Nadu as per 2011 Census","Single Year Age Returns By Residence and Sex in Tamil Nadu( as per 2011 Census)","Population of Tamil Nadu â€“ Decennial Growth","Salient features of Census 2011","Time Series Data - Population and Literacy Rate of Tamil Nadu"]];for(var i=0;i<a.subCategories.length;i++)a.subCategories[i]=_.map(a.subCategories[i],function(a,t){return{id:t+1,name:a}});a.setCategory=function(t){a.current.category=t,e.go("category",{categoryID:t.id})},a.setSubCategory=function(t){a.current.subCategory=t,e.go("chart",{categoryID:r.categoryID,subcategoryID:t.id})},a.$on("$stateChangeStart",function(t,e,r){r.subcategoryID||(a.current.subCategory=null),r.categoryID||(a.current.category=null,a.current.subCategory=null)})}]),angular.module("tnstats").controller("ChartCtrl",["$stateParams","$http",function(a,t){"use strict";t.get("assets/data/"+a.categoryID+"_"+a.subcategoryID+".json").then(function(a){console.log(a.data),$(".chart").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Browser market shares at a specific website, 2014"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},series:[{type:"pie",name:"Browser share",data:a.data}]})})}]),angular.module("tnstats").controller("CategoryCtrl",["$scope","$stateParams",function(a,t){"use strict";a.filterdSubCategories=a.subCategories[t.categoryID-1]}]),angular.module("tnstats").run(["$templateCache",function(a){a.put("app/category/category.html",'<div ng-controller="CategoryCtrl"><div class="col-md-2 card pointer" ng-repeat="subCategory in filterdSubCategories track by $index" ng-click="setSubCategory(subCategory)"><div class="text">{{subCategory.name}}</div></div></div>'),a.put("app/chart/chart.html",'<div ng-controller="ChartCtrl"><tabset justified="true"><tab heading="Table"><div>Data table goes here</div></tab><tab heading="Chart"><div class="chart">Chart goes here</div></tab></tabset></div>'),a.put("app/main/main.html",'<div class="col-md-2 card pointer" ng-repeat="category in categories track by $index" ng-click="setCategory(category)"><div class="text">{{category.name}}</div></div>'),a.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse" ng-controller="NavbarCtrl"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="#/"><span class="glyphicon glyphicon-home"></span> Statistical Hand Book</a></div></div></nav>'),a.put("app/components/sidebar/sidebar.html",'<section class="sidebar pull-left well"><ul class="navigation"><li><h2>Categories</h2></li><li ng-repeat="category in categories track by $index" class="pointer"><span class="glyphicon glyphicon-triangle-right"></span> <span ng-class="{bold: current.category.id === category.id}" ng-click="setCategory(category)">{{ category.name }}</span><ul ng-show="current.category.id === category.id"><li ng-repeat="subCategory in subCategories[$index] track by $index"><span class="glyphicon glyphicon-triangle-right" ng-show="current.subCategory.id === subCategory.id"></span> <span ng-class="{bold: current.subCategory.id === subCategory.id}" ng-click="setSubCategory(subCategory)">{{ subCategory.name }}</span></li></ul></li></ul></section>')}]);